name: Assign Team to PR Workflow

on:
  pull_request:

jobs:
  assign_team:
    runs-on: ubuntu-latest

    steps:
    
    - name: Install dependencies
      run: npm install @octokit/core@5.1.0
        
    - name: Assign Team
      uses: actions/github-script@v7
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      with:
        script: |
            // Octokit.js
            // https://github.com/octokit/core.js#readme
            const Octokit = require('@octokit/core').Octokit;
            const octokit = new Octokit({
            auth: process.env.GITHUB_TOKEN,
            })
            
            const data =  await octokit.request('GET /orgs/{org}/teams/{team_slug}/members', {
            org: 'ORG',
            team_slug: 'TEAM_SLUG',
            headers: {
                'X-GitHub-Api-Version': '2022-11-28'
            }
            })

            console.log(data)

